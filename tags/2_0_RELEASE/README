===================================================================
Ascent 2.0 - Skydiver
===================================================================

This is our first official milestone release. A changelog since
the last stable release is shown below:

* fixed water elemental
* gawd damn weird compilers.........
* more spells added to the cooldown list
* don't ya just love these commits?
* fixed bug where enchanting/item targets wouldn't work
* fixed bug where item swapping wouldn't work to bags (whoops:P)
* fixed "equipping items in bag slots" exploit.
* fixed bug where saving new bags would result in them not being saved to the db (field out of range)
* fixed exploit where you could sell a bag with items still in it (not really sell, but still get money:P)
* fixed exploit where you could be "half-dead" and still kill things by using a transport.
* fixed exploit where you could stack the ranged thrown effect damage value
* fixed thrown item cooldown exploit
* code cleanup
* start work on cheater cleanup function
* you can no longer cheat and learn other classes talents by editing packets.
* fixed talent point exploit (muhahahha)
* fixed bug where a tank could get a healer stuck in combat
* fixed bug where you could get stuck in combat when one-shotting a target
* possible fix for crash in getSpell()
* replaced a bunch of time(NULL)'s with UNIXTIME.. syscall savings, w00t!
* happy revision 2000. partay!
* fixed crash when reloading a table with a new max id in array storage type.
* fixed self spells resisting
applied AceIndy GM debuger patch. I trust that this was tested in 1 moth.
* two more crash fixes, i guess.
* more crash fixes.. w00ties.
* some possible crash fixes here
* possible fix for 132 crashes in arenas/battlegrounds.
* warlock: eye of kilrogg
* mage: molten armor will no longer use + spell damage, static damage now.
* warlock: fixed spells like improved shadow bolt, the stack count of the aura will now be correct, instead of one less (hopefully this doesn't break anything else)
* warlock: incinerate spell group, now it will be effected by talents
* warlock: intensity talent
MPQE is GPL.
- removed paladin blessing of light since it was adding bonus to holy nova (should have not).
- fixed a typo
- updated dbcstores in stable branch, it should fix a lot of spell casting problems.
* code cleanup in Aura::EventPeriodicTriggerSpell
* fixed spells like rain of fire
* fixed aoe spells
* fixed bug where using arcane missles and your target died but the channeling bar would not disappear
* Fear: some more changes to fear handling. Re-enabled old hackfix and added another. :[ There are still problems with it, but at least it will work better until we can find the problem with why U_FIELD_FLAG_LOCK_PLAYER isn't working in cities.
- changed spellentry structure(removed field 212 cause there are only 211 and comented buffdesc,also added a new field naming range) *told you capt :P )
- corrected a bug where ai spells would search fro target each time because of wrong range
- added spell flag to know if it can target stealthed units
- updated code so now ai spells will search for new targets on target steath unstealth.
Fire nova totem does not unstealth units yet but it does target them,ansd searing totem target you forever.. will debug tommorow it's really late now.
* more spell fixes.
ascentstat compile issue. This is only for compile fix, i have no idea in what state it is apart from that.
* Henk stubben is cool
* cosmetic change.... related to my last commit
* woeps, that one did not needed to be commited.
* fixed ranged damage.. and maybe many more spells (please take a look at DBCStores.h and any coder would understand what is the idea)
* fixed stealth-ed units won't be effected by AOE spells
* added hitstatus info... (This actually needed to be tested)
* started on target type invisible area of effect (Does not work properly yet. Will be fixed very soon)
- re enabled aura 107 and 108 +x and +x_ effect. It seems that most of the reports were fakes :(. I think i will accept reports from QA from now on. This still needs investigation. It's not in stable branch so don't bitch !
- disabled stormstrike effect 0 = made mobs use it's effect on you.
- some other useless changes :P
* major crash fix :<
shoot me now or shoot me later but i still think that this can lead to creature blocking situation. Just resubmitting after the revert.
* fixed divide by zero / initialized var here.
* server status plugin will now show build tag
* build tag stuff
* added build tag system
* fixed a possible crash here.
* applied: [fix] Bug in Melee Haste (http://www.ascentemu.com/forums/index.php?showtopic=5613)
* applied: [Patch]Net o Matic (http://www.ascentemu.com/forums/index.php?showtopic=5635)
* applied: [fix] Your attacks ignore x of target's armor items [http://www.ascentemu.com/forums/index.php?showtopic=5596]
* applied a modified version (crash-free) of [fix] Was unable to resist mob spells [http://www.ascentemu.com/forums/index.php?showtopic=5591]
* fixed bug where you could not learn the second rank of a warrior/rogue spell
* fixed bug where learning the next rank spell would result in it disappearing from the actionbar (it will update now)
* fixed bug where you could re-learn lower ranks of spells from a trainer after learning a higher rank
* fixed guard not despawning problem
* possible fix for loot problem
* removed all powf calls :> definitely slower.
* fixed trainer bug.
* reverted all those shitty ai changes.. mobs not returning to spawns is NOT GOOD. anyway all should be foolproof now.. i hope.
checked 140 spells from aura 197, only 600 remaining xD
* crash fixes...
spell cast-time patch from default8p
* fix major fuckup from the master moron (/me points at himself) ME.
* Small correction.
* channel voice will no longer be shown when no voicechat server is connected
* Applied: [FIX] Critical Chance and Dodge [http://www.ascentemu.com/forums/index.php?showtopic=5297]
* fix for possible heap corruption here in release mode
* Dummy Spell Handlers: fixed many small bugs in the handling of dummy spells. Fixed exploit. Cleaned up file. Removed dupe spells from SpellEffects.cpp
- Added modified handler for NetherWraithBeacon from Feanor
* fixed crash in network code
* fixed crash in PushLoot
* fixed rage not being generated on hit
* Spell Penetration: fixed negative display. Thanks default8p
- fixed threadpool on unix. totally this time, i think :P
* more threadpool fixes
* hmm, threadpool fixes..
- applied Wolfjourn's threadpool fixes
* strange how such a small fix can have so much effect. (fixed majority of the spells)
- removed gracefull hit. What was i thinking when i added it.
- probably removed creature deadblock situation when not attacking neighter moving closer to target.
- added condition for evade to not check for next target when we really should go home. This is totally broken right now.
too tired to finish these, sorry, some other time.
applied auctionhouse patch from nocturno
* Created a Manager Class for the Skill Name gm commands (getskillinfo etc.) Work in progress!
* Fixed (not always visible) "heap corruption" on ascent shutdown
(oops.. it's not THAT much work in progress... committing again >.>)
* possible fix for mob attacking out of combat bug
* fixed bug where deagro would cause player to get "stuck" in combta.
* smacks head, i gotta stop commiting this
* fixed a possible crash on database loading when it is trying to update and load characters at the same time
* reverted the dbc stuff revision. you need to update the dbc format column in dbcstores.cpp, too, and it appears that tool didn't even work correctly. much better way to do this stuff is just via sql, when your tool is ready to convert the data straight to sql, we'll use it then :)
* reverted r1932, feel free to re-commit when you add the file :)
* fixed a crash here
* Created a Manager Class for the Skill Name gm commands (getskillinfo etc.) Work in progress!
* Fixed (not always visible) "heap corruption" on ascent shutdown
do you hear the screem of the noobs echoing ?
Removed static spell fixes (made each time on server start) (world.cpp) and moved them to spell_fixes project.
do these steps:
1) backup spell.dbc !
2) compile "Spell_Fixes"
3) run it on your spell dbc : Spell_Fixes.exe -dofix inf=spell.dbc
good luck :D and read changelogs 
this should save 1 s loadtime for server :P
* applied: http://www.ascentemu.com/forums/index.php?showtopic=5477
- fixed *nix build
* fixed ls assertion crash (no idea how this could happen)
- should fix exploit when walking backwards and can solo any creature. It's all made with ifdef to ease the removal of it when a proper movement estimation is done.
Still have a few ideas about this, will implement in case complains are made :P
Now test it zexer and give me feedback :D
* Visibility: players can now see all NPCs within range of their corpse
* re-vamped .additem command. now it follows the syntax .additem <item id> [count] [randomproperty, or -randomsuffix]
* fixed enchantments that change resistances, it won't apply to only armor now.
* forgot to say, SQL needed is:
alter table playeritems add column randomsuffix int(30) default 0 after randomprop;
* fixed random suffix applying
* fixed values for the stats/bonuses from random suffixes. the formula is in item.h, if anyone wants to tweak it.
* a few optimizations
* more work on random item suffixes
* fixed channel crash
* fixed random suffix display in loot list
* fixed item loading
* why did i primary key this
* Re-written item property system. Supports "outland greens" (random suffixes), and requires a lot less db work.
* fixed *nix build
* XP: Allow pets to receive xp after their owner is max level. Allow group members to receive proper xp with max level player in group.
* Walk/Run: should now be set on RUN after Fear/Poly
* Spell Penetration: should now reduce targets resistance instead of adding to it. Also should now display correctly on char sheet.
* added a small optimalisation to the WowCrypt class
* Fixed bug where fall damage etc would put you in combat
* fixed possible bug where healing yourself would lock you in combat
* set svn:eol-style=native on new files
* vc8 and makefile.am fix.
* merged other svn:
* DGM's fix fixed. (DGM Please never commit when your not sure.)
* Minor grammar changes
* Minor change in the getskillinfo function
* Added a .debug sqlquery command as requested by WaRxHeAd for DB development.
To use: comment out the "#ifdef _ONLY_FOOLS_TRY_THIS_" and the #endif" in bool ChatHandler::HandleSQLQueryCommand in debugcmds.cpp. DO NOT USE THIS ON REAL SERVERS!
* Merged some heap corruption fixes from the other trunk (thanks capt!)
* Replaced the static skillname lookup table with one that gets loaded from a DBC file. (Not fully tested! Please somebody look at my memory handling/free'ing code if it is ok :) )
* Fixed a crash when getskill was used with a to high number
* Added a guild message (Player was kicked by the guild by..) when a player was removed from a guild by a gm
* Minor consistency change
* Added a Guild chat command group
* Moved current guild chat commands to the new guild group
* Added a command to list all the members of a guild and their ranks
* Added a command for removing a player from a guild by force by a gm
* Added a command for disbanding a guild by force by a gm
* more struct package's
* small fix for quests 2.2.3 (I should look into this)
* also made a preformance tweak regarding quests
* Removed the debug code from the combat state system.
* Re-written combat status system. New features:
 - A mob aggroed by player a, if taken over by player b, player a will remain in combat.
 - Healing in combat states will work correctly.
 - 5 second timeout for pvp'ing players.
 - Putting a DoT on a target will leave the caster and the target in combat for the duration of the DoT.
 - Cleaner code, of course :P
* Might have to implement a periodic reference check system later, we'll see if anyone gets "stuck" in combat with logged out/deleted targets.
Sadly this is mostly the best i can do with a generator tool: It will suggest spell groups to be created for the 107 and 108 auras (75_ hit success), but it still will be needed to be reviewed by some human because of dupe matches. There are 643 spells to be checked here so it may take a few seconds to do it :P
* Cleanup: stats.h -> cleaned and properly formatted so people can read it correctly. Should be no actual changes.
* Applied Darvaleo's QuestCommands.cpp (thanks for this, its really handy for testing stuff!)
* Added a few support functions to the core for game monkey scripting (SpawnMonsterWithFaction, FullCastSpell)
* Added two (2) more example game monkey scripts.
* Fixed quest completion dialog.
* Fixed crash when using spells with the spell steal effect.
And here we go. Happy 1901 :) fixed typo
*Global: Combat state corrections (revert it if it will crashes can't test cause i'm at work)
*Druid: Faerie Fire. 
PS. We r almost int XX century :)
started working on a spellgroup info generator tool just to see if there is still hope :) (this is the aura 107 and 108 related issue)
basicly 240 spells might work and 403 might not. The problem is mostly with the working ones since they influence each other and create big bugs. 
More work will follow on this issue but you can generate the list if you wish.
* Fear: this should allow player to run away while feared and prevent them from attacking.
* temp disabled async queue system (unstable as heck.. at the moment due to thread clashes)
* crash fixes
* gms can now moderate any channel
rogue - initiative proc chances corrected. NTY
- Halaa battle token patch from emsy. (easy man, we all have bad days :P )
- disabled aura 108 and 107. This causes a lot of unwanted effects. Have to review all of them to make sure they do not influence each other (right now improved mark of the wild gives you 250_ armor :S )
Druid: Predatory Instincts, Improved Leader of the Pack
Priest: Mana Burn, Reflective Shield
Global: small corrections in combatstate system and resilience system
druid - improved mark of the wild
p.s. for devs : don't work on auras 107 and 108, I will try to make a tool that will generate and/or correct all spell group problems.
* fixed quests under 2.2.3
* goatalicious
* crash fix here
* cows are cool
* urgh
kat00t kat00t kat00t! kat00t kat00t kat00t!
nothing that you could use. Saving these since we managed to burn 2 HDs this week :(
* durka durka
* shrug
& trying again
* testing.. again.
* fixed heap corruption when leaving channels
* fixed heap corruption in socket code
* fixed a crash in target stuff
* testing again
* test a commit, la la la
* added packet to the static packet group XP log yeeaaa also made a small bandwith saver...
* to plox or not to plox that is the plox
Note to all Ploxers: Plox
* replaces levelup packet with static structured packet.
Note: along the following commits we are going to change the packet model to a faster and less CPU cycle consuming model.
* added PlayerPacketWharper.cpp so we can clean the player class from crappy packet crap
* did some AI optimalisation, also limited the amount of settargets in the AI. (now it only sets when its different from the current one)
* optimalisation to unit::update
Note: this off course is very experimental. I tested this very good, I hope its a good 100_ sollution. And save lots of cycle's 
Global: combat in raids. I hope it's final.
*fixed typo
Global: combat in raids rewritten (NTY)
* whoops, forgot to remove the vld includes
* fixed some memory leaks in windows network code
* fixed memory leaks in channel code
* fixed some small memory leaks at shutdown
spellfixer tool : 
- step 2 ability to change dbc
- step 3 making changes in dbc
You really should not mess with this until i say so. 
I wonder if i created any catastrophie with this submit :P
* fixed bug where only half a trainers spells would get loaded
Nothing for the leechers
step1 : dump dbc to sql
should fix trainers that reteach some spells.NTY but should work.
Burlex: since this is the 3rd time you remove "GetMaxLearnedSpellLevel" code :). Imagine trainer teaching 3 levels of a rogue spell and we already know level 3. If you check only level 3, trainer might show you level 1,2 as learnable. In case I'm wrong then please remove it again xD
*Global: fixed infinite combat in raids
* Fixed garbling ( yeah, its a word ) of sub command help messages
+ Added a new cheat command 'triggerpass' which forces most areatrigger prerequisites to be ignored by the selected Player ( Allows players to enter dungeons without the required attunement ).
As this command can exclude several checks which occur during normal areatrigger use, you may encounter unknown issues once through the trigger. This is a feature of the command :P
*Global: corrected resist system NTY
*Druid: Leader of the Pack, Feral Swiftness
*Global: healers in raids. NTY
*Global: fixed infinite healers in combat (raid)
* Player pets now display the correct family name ( thanks titus4k, http://www.ascentemu.com/forums/index.php?showtopic=4998 )
* possible fix for pthread assertion on linux
Moved Some flags to some other var. This should fix issue of having 1 damaging or healing aura per target.
* Commented out RangedDamageTakenPct as it is not used - thanks Nocturno
* fixed threadpool spam, i will look at the linux issue tomorrow. i'm going to bed, its 7am.
* more work on voicechat. still a lot to go though :P
* whoops. hehe. i committed the free-70 stuff i was using on a test server by accident.
* you know guys, when there is an error, you don't have to post it 500 times. once is enough. :)
* fixed linux build, please stop posting about it
* fixed crashes in thread destruction
* fixed a few more crashes in other places :.
* hardcoded the server to a level 70 cap. sorry guys, i'm sick of seeing bugreports caused by people running bullshit fun servers.
* had the wrong operator for the res sickness bug. fixed.
* server won't do the assertion failed crap anymore, it'll just exit. stupid, stupid noobs.
* removed my debug code in spell.cpp, forgot to say the timing of spells in imps will work correctly now :P
* pet autospellcast system. e.g. imps will now go back into stealth after leaving combat. blood pact will be casted at spawn, etc.
* rewrote auctionbar system partially, should save/load correctly now and save autocast flags
* not perfect yet, needs some tweaks.
sql:
ALTER TABLE playerpets DROP COLUMN autocastspell;
UPDATE playerpets SET actionbar="";
* partially rewrote mail system. it will save a huge amount of memory at startup now (mailboxes are only loaded at player load now, and destroyed at player destruction). also external mail insertion will work without failure now.
* questgivers will now show the correct yellow dot when completing a quest on the minimap
* questgivers will now show the correct (! or ?) option in the gossip menu
* fixed trainers with npctext=0
* fixed+rewrote+optimized character delete
* removed some old shitty useless code
* fixed linux build / removed y/n stuff
* possible fix for assertion/guard bug.
* rewrote trainer system, works a lot more blizzlike now :P new tables included
* thread pool will no longer "gobble" up cpu resources, and "leak" threads
* fixed vc8 solution
* love you too capt, but this is just a pain in the ass :P
makefile.am ; vc8 solution update
* whoops, wrong keyword
* ascent will now talk to voicechat server
* added voicechat entries to config file
* added proper handling of voicechat opcodes
* bunch more voicechat work, opcodes added, you can now join voice channels, click "voice chat" to join the voice channel, and hold down push to talk ^_^
* MysqlCon::busy -> FastMutex
applied nocturno warlock pet loading patch. Seems logical but did not test it.
He is the last vestige of a fallen kind
--a programmer from another time.
Faced with the emulation scene in chaos, Burlex
recruits an unlikely team and sets out to create the 
ultimate WoW emulator.
On AscentEmu.com, hope lives again.
changed dazed code to happen only if creature managed to make any dmg to target (then make the chance to daze decision).
* added license/copyright to voicechat files
* started work on voicechat server, and voicechat implementation.. the voicechat server is written in C, so good luck to mangos trying to copy it.
* Fixed 2 more cases of GM invis detection to use GM tag.
* Changed dmg.damage_type to dmg.school_type to avoid confusion.
* Fixed a small problem with ranged damage probably caused by the confusion mentioned above.
*Druid: Leader of the Pack, Feral Swiftness, Frenzied Regeneration,Heart of the Wild
* fixed typo (No sorry guys I don't need your topics..... Use the stable branch, trunk is not supported what so ever) 
* added gm command GetSkillInfo it prints the selected players skills with information about this. Also changed some other stuff
* fixed a error in DGM's command getskilllevel as it would give you negative bonus when it actualy was a positive one.. (purely cosmetic)
* cosmetic correction in Master.cpp (Burlex hit me with this one hahahaha 666, "Are you man enough, carry the load all alone, When others have your own")
started working on that tool to move all the spell fixes to some storage.
* its SoulStoneReceiver not Reciever....
* added GetSkillLevel gm command... There will come more of them regarding skill (THIS IS A PATCH BY DGM)
* some minor things
- some unix fixes, needs more work still.
* fixed scripts
* removed irc plugin (was never finished:P)
* fixed thread count display in .info
* changed authsocket switch() to use function pointers
* misc performance improvements
* fixed possible loop/stack overflow here
* Stealth Detection - reverted my rev 1761 patch.
these should work now :
- rogue - combat potency
- paladin - Benediction - If you do not see a visual change to the spell client side then it will not get the cost reduction
- paladin - Improved Blessing of Might
- paladin - Improved Sanctity Aura
- priest - Improved Power Word: Fortitude
- fixed a bunch of *nix warnings
- unsure if *nix build will work, i'm going to bed. at least it compiles now :P
* fixed rehash on *nix
* set these to eol-native
* fixed getthreadid problem under windows xp, etc. seems microsoft only added GetThreadId in win2003 and up.. wtf is it doing in the vs2003 sdk headers i have no idea. anyway, fixed it :P
(probably) fixed char delete
makefile updates
* fixed loop
* the threadpool goes Gobble() Gobble()! the threadpool goes Gobble() Gobble() when the ThreadController says to Gobble()!
* Implemented a nice sexy thead pool. This probably won't work on *nix, just yet. Thread counts are checked every 2 minutes, and reserved (free) threads are allocated/freed as needed by demand of the server. This mostly applies to the database code, but can also apply to instances.
*Global: spell miss system typo
*Hunter: Hunter's mark (no more silence)
*Priest: Mental Strength
*Shaman: Ancestral Knowledge
*Warlock: Fel Intellect
just saving todo changes before reinstalling pc.
restecpa burl ^^
* AsyncQuery's can now "bucket" queries and perform several at once! this is demonstrated with player loading, all queries are done at once, and then loading is done in one big blow. this should result in quite a nice speedup when lots of people are logging :)
* misc cleanups and optimzations, removing old code, etc etc :P
- that was sweet of you zack, leaving 1800 to me <3
- next thing today: threadpool :P
- paladin - Improved Sanctity Aura . NTY
- paladin - Improved Judgement.NTY
- paladin - Improved Hammer of Justice. NTY
- paladin - Benediction. NTY (just helping burl to get that next revision :P )
* absolutely amazing. my code works great the first time with such a major change :P anyway made a few tweaks.
* partially rewrote database interface, now it supports async queries! e.g. running a select query in another thread, letting the original thread go back to its other work, then the other thread will callback once the query has executed.
* removed postgre code, its not used, and just cluttered stuff up
* optimized database code in several areas
* fixed bug where res sickness would get applied to players less than level 10. 
* hopefully nerfed the UpdateTargets() crash on *nix, seems the gcc hash_map implementation is bit touchy..
* fixed channels (seems the msg type shifted back one, will investigate this further later)
* and another fix here, la di da
* would help if i called the right function. ;P
* yell/party messages will now broadcasted in the correct language for gm'ed players. 
- sql query:
alter table characters add column custom_faction int(30) default 0 not null after gender;
Gnomish Poultryizer trinket effect - though timer probably is 0 so it will expire instantly
* added custom faction saving support for players (someone very special to me wanted this <3)
* * implemented "reusable guids". guids can now be "re-used" when map unloads, as well as temp creatures despawn, etc.
* crash fixes, fixed creature spawn (stupid whiners...)
* fixed compile problems, crashfixes
* possible fix for fucked up chat. Also channels and stuff. Gimme feedback on the forum.
* GM can now only detect stealth/invis if they have their GM tag on, or they use a spell such as #18950
* Dead people will no longer be able to see invisible GMs ever - thanks Dirt!
passive auras are not saved when saving character. This should solve the "golden thread" type of problems (ok ok, but i wonder what we sacrificed :P ,so in case you observer some talent or other passive spell not being recast on logout/login please let me know :P )
* crashfix here, testing my new install make sure i didn't breakz0r anything :P
revrote/fixed/tested:
- paladin - Righteous Defense (i can feel a ball kick from burlex already :P )
- paladin - Blessing of Light
- paladin - Seal of Blood
- paladin - Seal of Wisdom
- paladin - Spiritual Attunement (i don't have the nerves to debug why it is casted twice. I fixed this issue at leas 2-3 times :S )
Warlock Lesser Healthstone spell patch by Bartus
* fixed some incorrect namespace usage
* fixed compile error in ppc
* fixed x86 build (lol! this is a first)
* chat messages will now be sent in universal to gm's, and the native language to other clients. this was needed to fix the client bug where the client wouldn't show common with some races (wtf blizz:P)
* fixed a lot of cases where OutPacket was sending a non-swapped uint32 on bigendian systems
- fixed some ppc stuff.
Fixed DBC reading under big-endian
* just some enumerators for item flags
* and to test my commit :)
* reverted netcode stuff because of stupid whining windows noobs. (p.s. it works fine for me! you are all gay!, and there is no way i'm reverting this on unix.)
* fixed two crashes
* fixed setshapeshift crash
* applied another one of partha's patches
* applied partha's stealth patch
* fixed creature saving
* missing null pointer check here
* fixed a missing pointer check here
* fixed missing null pointer checks in channelhandler
-speedup on proc-checks. IsDamaging , Ishealing is added as flag to spells on spell startup.
Sooner or later i (or someone) will move all these fixes into some sort of storage system (think will follow burlex idea with sql)
* fixed res sickness timing. if you're still having issues, do a FULL REBUILD. fucking vc++ compiler likes to screw this up, i wasted almost an hour debugging it and the solution was to do a full rebuild :<
* fixed DoT spell crash
* fixed arena team saving
* fixed feign death :)
* fixed tame beast etc.. 
* trainers will work now
* fixed all scripts to use new dbc declarations
* fixed pet naming
* fixed name generation
* Rewrote DBC interface. It should use a *LOT* less memory compared to before. *NOTE* This revision will most likely assert on startup. I have to rewrite the trainer code before it will work. :P
. Developers: sSpellStore is now dbcSpell.
* fixed compile error here
* Applied: [PATCH] Complete Invisibility & Detection, for players, mobs, and objects from Partha [http://www.ascentemu.com/forums/index.php?showtopic=4350&hl=]
* Applied: both patches from [http://www.ascentemu.com/forums/index.php?showtopic=4287&hl=] (Nocturno/emsy)
* test commit for the new bot
* logonserver now supports auth reconnect. you can enter world, jump back to the character list and choose another realm now. :)
* decreased memory usage of logonserver (helps on large servers with shitloads of accounts)
* added spells.txt, a list of all namehashes->spellids/ranks
* proc chances and flags can now be overridden simply by use of the spell_proc_data table (world db)
* full revive on transporter map change
* players logging in on boat will be revived if dead
* removed transporter debug messages
* fixed a possible misuse of anti-teleport hack causing disconnections
patch from emsy for wand dmg reduction
* correction.... (Bur: I hope I finally am rid of those DHCP drop's)
* fixed inisibility flags
* fixed crash on npc spawn/delete
* fixed compile errors *whips capt*
* more target work (NOT ALL TESTED YET)
* fixed the "last tick not executing" problem with dot/hot's. (also affects triggered spells)
* fixed missing pointer checks in spell::calculateeffect
+ added one of my leet gm scripts
* creatures with channel targets will now de-channel on entering combat, and re-channel when leaving.
* basic linked mob pulling. they will search up to 7 distance units for friends.
* fixed the (bleh!) linux compile error
* w00t! creatures now support channel object and channel spell linking! means those evil blood elves can have their lasers coming out of their eyes into the crystals.. yeah.. something like that.
* moved sqlids to be instance-specific
* fixed a logic error in GetClosestPlayer (not sure if this was the problem i'm unable to test)
* GetUnitBySqlId in gm will now by this., rather than global
sql queries. don't we love sql queries.:
alter table creature_spawns add column channel_spell int(30) not null default 0;
alter table creature_spawns add column channel_target_sqlid int(30) not null default 0;
alter table creature_spawns add column channel_target_sqlid_creature int(30) not null default 0;
* more clustering work, almost ready to port players between maps/instances. this stuff really fucks your brain. :<
* fixed compile
* gm client will operate correctly now
* mages aoe for example will no longer affect team members in an arena match
* Applied: [Patch]IsPositive(), debuff bug [http://www.ascentemu.com/forums/index.php?showtopic=4268&hl=]
* tweaks to transport code, more accurate
* transports will play the ring-a-ding when coming into the dock now
* players will dismount upon entering a transport
* players won't be able to mount while on a transport (need to find proper flag for this)
- unit::PlaySoundToSet
+ object::PlaySoundToSet
tested and working :
- mage - Arcane Concentration - clearcasting is not working yet
- mage - molten armor
- mage - Improved Counterspell
- mage - Detect Magic - have no idea how to test this.I can see beneficial spells all the time :S
- fixed wrong spell value log on client side for some talent modified spells
- this is an OMG OMG revision : 226 spells are afected by this change (started with frostwarding). Get the list from here. I really expect problems after this so feel free to retest :P :
SELECT id,name,description FROM dbc_spell where (effect_aura_1=108 and effect_misc_1=8) or (effect_aura_2=108 and effect_misc_2=8) or (effect_aura_3=108 and effect_misc_3=8) or (effect_aura_1=107 and effect_misc_1=8) or (effect_aura_2=107 and effect_misc_2=8) or (effect_aura_3=107 and effect_misc_3=8)
* some clustering work
* fixed damage shield crashes
- paladin - Spiritual Attunement. NTY (It would be an atuned miracle if this would work :D )
* fixed crash when joining banned channel
- paladin - Seal of Wisdom.NTY
- paladin - Seal of Blood. NTY
- paladin - Righteous Defense. Disabled until tested.
paladin - Blessing of Light.NTY
rogue - combat potency - require weapon and apply only for successful attack.(Disabled)
Should fix bug that you can learn as many professions as you want.
!!!To aceindy and burlex : this was removed in patch 1629. Is it because that value represents something else ? If so then code must be rewriten to store profession count somewhere else or count them when needed......
a little speedup here and a possible exploit :P
For crying out loud.
About NTY.A little understanding please. It took quite a long time until i manged to get over the last time discussion about it. Yes these are probably not working fixes, as they were not working before the patch, so practicly nothing changes on your side. It will not crash your server or else i would not make the commit or disable it. This is an under DEV branch so i might afford to do such a thing. I post them cause i have to move them from 1 PC to another and sometimes there is a few day delay between making them and testing them, so versions would change ...and patches have to be adjusted ...
If you can't accept this very little sacrifice from me then i will quit deving cause there is no other solution for this issue (tried it and not working).
-fixed stealth outside groups.
patch from Partha
http://www.ascentemu.com/forums/index.php?showtopic=4182
*Global: resist system,shapeshiftings
rewrote/finished/tested : 
- warlock(demonology) - Enslave Demon - well it will not rush you but you can't control it yet :)
- druid - omen of clarity
- druid - shred 
- druid - ravage 
- druid - Mangle 
- druid - hearth of wild 
- priest - Reflective Shield
damit, why god invented headache ?
-fix to ressurection sickness and alike spells.
priest - reflective shield. Disabled until tested.
mage - molten armor. NTY
mage - frost warding. NTY
mage - Arcane Concentration. NTY
mage - Magic Absorption. NTY
+ added Spell::safe_cancel
* fixed crash with stalked aura

